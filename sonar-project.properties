# SonarCloud Organization & Project Identity
sonar.organization=jfandy1982
sonar.projectKey=jfandy1982_emby-data-check
sonar.projectName=Emby Data Check
sonar.projectVersion=0.0.1-SNAPSHOT

# ============================================================
# Source Code & Test Detection
# ============================================================
# Define source directories (future-proof for libs/)
# Note: Use 'apps,libs' to automatically include future library directories
sonar.sources=apps,libs

# Define test directories (same as sources in Nx monorepos)
sonar.tests=apps,libs

# Test file patterns - tell SonarCloud what constitutes a test file
# - **/*.spec.ts: Jest unit tests (all apps)
# - **/src/e2e/**/*.cy.ts: Cypress E2E tests
# - **/src/e2e/**/*.feature: Cucumber BDD feature files
# - **/src/support/**: Cypress support files (helpers, commands)
# - **/src/fixtures/**: Test fixtures and mock data
sonar.test.inclusions=**/*.spec.ts,**/src/e2e/**/*.cy.ts,**/src/e2e/**/*.feature,**/src/support/**,**/src/fixtures/**

# ============================================================
# Exclusions from Analysis
# ============================================================
# Exclude from ALL analysis (source code metrics, coverage, duplications)
# - **/node_modules/**: Third-party dependencies
# - **/dist/**: Build output
# - **/tmp/**: Temporary build files
# - **/out-tsc/**: TypeScript compilation output
# - **/*.tsbuildinfo: TypeScript incremental compilation cache
# - **/coverage/**: Coverage reports
# - **/.nyc_output/**: NYC coverage output
# - **/*.spec.ts: Test files (duplicated in test.inclusions for clarity)
# - **/src/e2e/**: E2E test directories
# - **/.angular/**: Angular build cache
# - **/.nx/**: Nx cache
# - **/cypress/**: Cypress artifacts (screenshots, videos)
sonar.exclusions=**/node_modules/**,**/dist/**,**/tmp/**,**/out-tsc/**,**/*.tsbuildinfo,**/coverage/**,**/.nyc_output/**,**/*.spec.ts,**/src/e2e/**,**/.angular/**,**/.nx/**,**/cypress/**

# ============================================================
# Coverage Configuration
# ============================================================
# Path to merged LCOV coverage report
# Note: Both JavaScript and TypeScript use same report (TypeScript compiles to JS)
sonar.javascript.lcov.reportPaths=coverage/merged-lcov.info
sonar.typescript.lcov.reportPaths=coverage/merged-lcov.info

# Coverage exclusions (files to exclude from coverage calculations)
# Note: Test files should not affect coverage metrics
sonar.coverage.exclusions=**/*.spec.ts,**/src/e2e/**,**/src/support/**,**/src/fixtures/**

# ============================================================
# TypeScript Configuration
# ============================================================
# Point to base TypeScript config for proper module resolution
sonar.typescript.tsconfigPath=tsconfig.base.json

# ============================================================
# Code Duplication (CPD) Configuration
# ============================================================
# Exclude test files from Copy-Paste Detection
# Rationale: Test files often have repetitive patterns (beforeEach, it blocks)
# which would trigger false-positive duplication warnings
sonar.cpd.exclusions=**/*.spec.ts,**/src/e2e/**
